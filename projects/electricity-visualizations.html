<!doctype html>
<html lang="en">
    <head>
        <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/gh/bitmaks/cm-web-fonts@latest/fonts.css"
        />
        <link rel="stylesheet" type="text/css" href="../style/main.css" />
        <script src="../js/components.js" defer></script>
        <title>Electricity Data Visualizations - Henrik Korsgaard</title>

        <!-- Visualization dependencies -->
        <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
        <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/suncalc@1.9.0"></script>
        <script src="https://cdn.jsdelivr.net/npm/simple-statistics@7.8.3"></script>
        <script src="../js/electricity-visualizations.js" defer></script>
        <style>
            .viz-container {
                margin: 1.5em 0;
                min-height: 200px;
            }
            .viz-container svg {
                max-width: 100%;
                height: auto;
            }
            /* Observable Plot styling overrides for dark theme */
            .viz-container [aria-label="x-axis"] text,
            .viz-container [aria-label="y-axis"] text,
            .viz-container [aria-label="legend"] text {
                fill: #888;
            }
            .viz-container [aria-label="x-axis"] line,
            .viz-container [aria-label="y-axis"] line,
            .viz-container [aria-label="x-axis"] path,
            .viz-container [aria-label="y-axis"] path {
                stroke: #444;
            }
        </style>
    </head>
    <body>
        <site-menu current="projects" base-path="../"></site-menu>
        <page>
            <content>
                <h1>Electricity Data Visualizations</h1>

                <p>
                    <em
                        >Exploring household electricity consumption patterns
                        through interactive visualizations.</em
                    >
                </p>

                <h2>Annual Rhythms in Consumption</h2>

                <p>
                    The main question I wanted to explore was:
                    <em
                        >Does our electricity consumption correlate with
                        available daylight?</em
                    >
                    The hypothesis was that consumption would increase during
                    darker winter months (more lights, more indoor
                    entertainment) and decrease during bright summer months.
                </p>

                <figure>
                    <div id="viz-radial" class="viz-container"></div>
                    <figcaption>
                        Annual household electricity consumption and daylight
                        hours - a radial visualization.
                    </figcaption>
                </figure>

                <p>
                    The radial visualization shows consumption data from
                    2018-2022 overlaid with daylight hours for Aarhus, Denmark.
                    The visualization reveals:
                </p>

                <ul>
                    <li>
                        <strong>Light blue area:</strong> Minimum and maximum
                        daily consumption across all years
                    </li>
                    <li>
                        <strong>Dark blue area:</strong> Upper and lower
                        quartiles (the middle 50% of consumption)
                    </li>
                    <li>
                        <strong>Dark blue line:</strong> Median daily
                        consumption
                    </li>
                    <li>
                        <strong>Yellow area:</strong> Daylight hours throughout
                        the year
                    </li>
                </ul>

                <p>
                    The result was somewhat surprising: the correlation between
                    daylight and electricity consumption is weak (r = 0.243).
                    While you can observe the rhythm of daylight changes
                    clearly, the consumption data is more erratic. Summer months
                    sit slightly below 10 kWh, winter months slightly above, but
                    the pattern is not as strong as expected.
                </p>

                <h2>Why the Weak Correlation?</h2>

                <p>
                    The hypothesis assumed that lighting and indoor
                    entertainment account for a significant portion of
                    consumption. In reality:
                </p>

                <ul>
                    <li>
                        Most indoor lighting is LED-based, consuming only a few
                        watts per unit
                    </li>
                    <li>
                        The bulk of consumption goes to refrigeration, laundry,
                        and cooking – activities that don't vary much with
                        seasons
                    </li>
                    <li>
                        Entertainment usage (gaming, streaming) doesn't change
                        dramatically between summer and winter
                    </li>
                </ul>

                <p>
                    This raises interesting questions about household energy
                    optimization. While we're often told to change habits and
                    implement micro-initiatives for energy savings, the actual
                    potential savings seem minimal – perhaps a couple of
                    kilowatts per day at most.
                </p>

                <h2>Additional Visualizations</h2>

                <h3>Monthly Consumption (2018-2022)</h3>
                <figure>
                    <div id="viz-monthly" class="viz-container"></div>
                    <figcaption>
                        Monthly electricity consumption over time.
                    </figcaption>
                </figure>

                <h3>Yearly Comparison</h3>
                <figure>
                    <div id="viz-yearly" class="viz-container"></div>
                    <figcaption>
                        Each year's monthly consumption overlaid for comparison.
                    </figcaption>
                </figure>

                <h3>Consumption vs Daylight</h3>
                <figure>
                    <div id="viz-scatter" class="viz-container"></div>
                    <figcaption>
                        Scatterplot showing the relationship between daily
                        consumption and available daylight.
                    </figcaption>
                </figure>

                <h2>Technical Implementation</h2>

                <p>The visualizations are built using:</p>

                <ul>
                    <li><strong>D3.js:</strong> For the radial chart</li>
                    <li>
                        <strong>Observable Plot:</strong> For the line charts
                        and scatterplot
                    </li>
                    <li>
                        <strong>SunCalc.js:</strong> For calculating
                        sunrise/sunset times at Aarhus coordinates
                    </li>
                    <li>
                        <strong>simple-statistics:</strong> For correlation
                        calculations
                    </li>
                </ul>

                <p>
                    The data comes from
                    <a href="https://eloverblik.dk/welcome">El Overblik</a>,
                    Denmark's electricity data portal. The visualization code is
                    available in
                    <a href="../js/electricity-visualizations.js"
                        >electricity-visualizations.js</a
                    >. The original Observable notebook code is preserved in
                    <a href="./electricity-visualizations.observable.js"
                        >electricity-visualizations.observable.js</a
                    >.
                </p>

                <h2>Data</h2>

                <p>The underlying data files are available:</p>

                <ul>
                    <li>
                        <a href="../media/data/el-consumption-days-all.csv"
                            >Daily consumption data (CSV)</a
                        >
                    </li>
                    <li>
                        <a href="../media/data/el-consumption-months-all.csv"
                            >Monthly consumption data (CSV)</a
                        >
                    </li>
                </ul>

                <p><a href="../projects.html">&larr; Back to Projects</a></p>
            </content>
        </page>
    </body>
</html>
